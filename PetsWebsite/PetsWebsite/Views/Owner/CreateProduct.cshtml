@*新增商品頁面*@
<section id="createProduct">
    <div class="contanier m-5">
        <form id="productForm" action="@Url.Action("NewProduct","Owner")" method="post" enctype="multipart/form-data">
            <div class="row align-items-center justify-content-center" style="height: 200px;">
                <div class="col col-6">
                    <div class="row g-3 bg-light rounded mb-3">
                        <div class="col col-6 was-validated">
                            <label for="ProductName" class="form-label">商品名稱: </label>
                            <input type="text" class="form-control is-invalid" id="ProductName" name="ProductName" required>
                        </div>
                        <div class="col col-6 was-validated">
                            <label for="UnitPrice" class="form-label">商品單價: </label>
                            <input type="text" class="form-control is-invalid" id="UnitPrice" name="UnitPrice" required>
                        </div>
                        <div class="col col-6">
                            <label for="Discount">商品折扣: </label>
                            <input type="text" class="form-control" id="Discount">
                        </div>
                        <div class="col col-6">
                            <label for="UnitsInStock">商品庫存: </label>
                            <input type="text" class="form-control" id="UnitsInStock" name="UnitsInStock">
                        </div>
                        <div class="col col-12">
                            <label for="Describe">商品描述: </label>
                            <textarea class="form-control" id="Describe" name="Describe" rows="3"></textarea>
                        </div>
                        <div class="col col-12">
                            <label class="d-block" for="">圖片(大小請勿超過2MB)</label>
                            <div class="mb-3">
                                <input class="form-control" type="file" id="PhotoPath" name="PhotoPath" onchange="previewPic(this)" accept="image/*" required>
                                <img id="pic" style="width: 50%; height: 50%"/>
                            </div>
                        </div>
                        <hr class="mb-0">
                        <div class="col col-12 d-flex my-3 justify-content-center">
                            <button class="btn btn-outline-danger" type="submit">確認上傳</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>

<script>
    $('#productForm').submit(function(e) {
        e.preventDefault();
        var formdata = new FormData(this);
        $.ajax({
            url: "/Owner/NewProduct",
            type: "POST",
            data: formdata,
            async: false,
            cache: false,
            contentType: false,
            enctype: "multipart/form-data",
            processData: false
        }).done(function(res) {
                $("#productForm").html("<div id='successAdd'><h6>成功送出！</h6></div>");
                $("#successAdd").append("<p>已新增商品</p>").hide().fadeIn(500);
            })
            .fail(function(res) {
                console.log("res: ", res)
            });
        return false;
    })

    //預覽上傳圖片
    function previewPic(e) {
        maxSize_2MB = 1 * 1024 * 1024;

        if (e.files[0].size > maxSize_2MB) {
            alert('圖片大小超過2MB！無法上傳');
            e.value = "";
        }
        else {
            pic.src = URL.createObjectURL(e.files[0]) // 讀取圖檔
        }
    }
</script>

@*<div class="contanier m-5">
    <hr class="my-5">
    <div class="row align-items-center" style="height: 250px;">
        <div class="col col-3">
            <label class="d-block" for="">上傳診所圖片</label>
            <hr>
            <div class="mb-3">
                <input class="form-control" type="file" id="formFile">
            </div>
        </div>
        <div class="col col-6">
            <div class="row g-3">
                <div class="col col-6 was-validated">
                    <label for="validationinput" class="form-label">診所名稱: </label>
                    <input type="text" class="form-control is-invalid" id="validationinput" required>
                </div>
                <div class="col col-6 was-validated">
                    <label for="validationinput" class="form-label">連絡電話: </label>
                    <input type="text" class="form-control is-invalid" id="validationinput" required>
                </div>
                <div class="col col-6 was-validated">
                    <label for="">所在城市: </label>
                    <select class="form-select" required aria-label="select example">
                        <option value="">-- 請選擇 --</option>
                        <option value="1">台北市</option>
                        <option value="2">新北市</option>
                    </select>
                    <div class="invalid-feedback">請選擇所在城市</div>
                </div>
                <div class="col col-6 was-validated">
                    <label for="">所在區域: </label>
                    <select class="form-select" required aria-label="select example">
                        <option value="">-- 請選擇 --</option>
                        <option value="1">松山區</option>
                        <option value="2">大安區</option>
                        <option value="3">三重區</option>
                        <option value="4">土城區</option>
                    </select>
                    <div class="invalid-feedback">請選擇所在區域</div>
                </div>
                <div class="col col-12 was-validated">
                    <label for="validationinput" class="form-label">診所地址: </label>
                    <input type="text" class="form-control is-invalid" id="validationinput" required>
                </div>
                <div class="col col-12">
                    <label for="">診所簡述: </label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"></textarea>
                </div>
                <div class="col col-6 was-validated">
                    <label for="">是否為犬貓專科: </label>
                    <select class="form-select" required aria-label="select example">
                        <option value="">-- 請選擇 --</option>
                        <option value="1">是</option>
                        <option value="2">否</option>
                    </select>
                    <div class="invalid-feedback">請選擇是否為犬貓專科</div>
                </div>
                <div class="col col-6 was-validated">
                    <label for="">是否有24小時急診服務: </label>
                    <select class="form-select" required aria-label="select example">
                        <option value="">-- 請選擇 --</option>
                        <option value="1">是</option>
                        <option value="2">否</option>
                    </select>
                    <div class="invalid-feedback">請選擇是否有24小時急診服務</div>
                </div>
            </div>
        </div>
        <div class="col col-3 d-flex justify-content-center">
            <a class="btn btn-success">確認上傳</a>
        </div>
    </div>
</div>*@